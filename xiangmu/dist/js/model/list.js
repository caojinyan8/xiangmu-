"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass(i,t,n){return t&&_defineProperties(i.prototype,t),n&&_defineProperties(i,n),i}define(function(){$(".page1").click(function(){$(".shopli dl").css("width","600px"),$(".shopli dl h4").css({float:"right",marginTop:"-120px",marginRight:"200px"}),$(".shopli dl del").css({float:"right",marginTop:"-80px",marginRight:"360px"}),$(".shopli dl p").css({float:"right",marginTop:"-80px",marginRight:"300px"})}),$(".page2").click(function(){$(".shopli dl").css("width","196px"),$(".shopli dl h4").css({float:"none",marginTop:"0",marginRight:"0"}),$(".shopli dl del").css({float:"none",marginTop:"0",marginRight:"0"}),$(".shopli dl p").css({float:"none",marginTop:"0",marginRight:"0"})}),$(".nfsq").click(function(){$.ajax({url:"../../static/json/list-of-goods/nfsq.json",success:function(i){console.log(i);for(var t=document.querySelector(".shopli"),n="",s=0;s<i.length;s++)n+='<dl>\n                <dt>\n                <a href="#"><img src="'.concat(i[s].url,'"></a></dt>\n                <dd>\n                    <h4><a href="#">').concat(i[s].tip,"</a></h4>\n                        <del>").concat(i[s].price,"</del>\n                        <p>").concat(i[s].Originalprice,'</p>\n                        <input type="image" src="../../static/images/shopca.gif" alt="">\n                       \n                </dd>\n            </dl>');t.innerHTML=n}})});var i=function(){function t(i){_classCallCheck(this,t),this.url=i.url,this.page=i.page,this.li=i.li,this.num=i.num,this.load()}return _createClass(t,[{key:"load",value:function(){var t=this;$.ajax({url:this.url,success:function(i){t.res=i,t.paage()}})}},{key:"paage",value:function(){console.log(this.res);var t=this;$(".pagination").pagination(this.res.length,{items_per_page:this.num,prev_text:"前一页",next_text:"下一页",num_edge_entries:3,callback:function(i){t.index=i,t.display()}})}},{key:"display",value:function(){for(var i="",t=this.num*this.index;t<this.index*this.num+this.num;t++)t<this.res.length&&(i+='<dl cjy="'.concat(this.res[t].id,'">\n                <dt><a href="../shoplist/shoplist.html?').concat(this.res[t].id,'"><img src="').concat(this.res[t].url,'"></a></dt>\n                <dd>\n                    <h4><a href="#">').concat(this.res[t].tip,"</a></h4>\n                        <del>").concat(this.res[t].price,"</del>\n                        <p>").concat(this.res[t].Originalprice,'</p>\n                        <input type="image" src="../../static/images/shopca.gif" alt="">\n                        </dd>\n            </dl>'));this.li.html(i),this.init()}},{key:"init",value:function(){var i=this;this.li.on("click","input",function(){i.id=$(this).parent().parent().attr("cjy"),console.log(i.id),i.setCook()})}},{key:"setCook",value:function(){if(this.goods=JSON.parse($.cookie("goods")),null==this.goods)this.goods=[{id:this.id,numm:1}];else{for(var i=!0,t=0;t<this.goods.length;t++)this.goods[t].id==this.id&&(this.goods[t].numm++,i=!1);1==i&&this.goods.push({id:this.id,numm:1})}console.log(this.goods),$.cookie("goods",JSON.stringify(this.goods))}}]),t}();return $("#setPage").on("change",function(){console.log($(this).val()),new i({url:"../../static/json/list-of-goods/list-of-goods.json",page:$(".pagination"),li:$(".shopli"),num:parseInt($(this).val())})}),new i({url:"../../static/json/list-of-goods/list-of-goods.json",li:$(".shopli"),page:$(".pagination"),num:12})});